<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Roomba: thread_mosq.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Roomba
   &#160;<span id="projectnumber">0.3</span>
   </div>
   <div id="projectbrief">Implementing controller classes using an abstract base class defining an interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00137.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">thread_mosq.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="a00080_source.html">mosquitto_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="a00089_source.html">net_mosq.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for thread_mosq.c:</div>
<div class="dyncontent">
<div class="center"><img src="a00138.png" border="0" usemap="#thread__mosq_8c" alt=""/></div>
<map name="thread__mosq_8c" id="thread__mosq_8c">
<area shape="rect" id="node4" href="a00080.html" title="mosquitto_internal.h" alt="" coords="217,155,355,181"/>
<area shape="rect" id="node12" href="a00089.html" title="net_mosq.h" alt="" coords="287,80,378,107"/>
<area shape="rect" id="node6" href="a00023.html" title="dummypthread.h" alt="" coords="181,229,300,256"/>
<area shape="rect" id="node8" href="a00077.html" title="mosquitto.h" alt="" coords="623,229,714,256"/>
<area shape="rect" id="node11" href="a00143.html" title="time_mosq.h" alt="" coords="413,229,511,256"/>
</map>
</div>
</div>
<p><a href="a00137_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a21dd0c78825078ffb90566d978b01b94"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#a21dd0c78825078ffb90566d978b01b94">mosquitto__thread_main</a> (void *obj)</td></tr>
<tr class="separator:a21dd0c78825078ffb90566d978b01b94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0857dfc7323eb57e5c850815b13f922d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#a0857dfc7323eb57e5c850815b13f922d">mosquitto_loop_start</a> (struct <a class="el" href="a00234.html">mosquitto</a> *mosq)</td></tr>
<tr class="separator:a0857dfc7323eb57e5c850815b13f922d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc06c007256f75b11172f632bd6cefb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#affc06c007256f75b11172f632bd6cefb">mosquitto_loop_stop</a> (struct <a class="el" href="a00234.html">mosquitto</a> *mosq, bool force)</td></tr>
<tr class="separator:affc06c007256f75b11172f632bd6cefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6eac2c5d74e6628433925107b522845"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00137.html#ae6eac2c5d74e6628433925107b522845">mosquitto_threaded_set</a> (struct <a class="el" href="a00234.html">mosquitto</a> *mosq, bool threaded)</td></tr>
<tr class="separator:ae6eac2c5d74e6628433925107b522845"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a21dd0c78825078ffb90566d978b01b94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21dd0c78825078ffb90566d978b01b94">&#9670;&nbsp;</a></span>mosquitto__thread_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* mosquitto__thread_main </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0857dfc7323eb57e5c850815b13f922d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0857dfc7323eb57e5c850815b13f922d">&#9670;&nbsp;</a></span>mosquitto_loop_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mosquitto_loop_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00234.html">mosquitto</a> *&#160;</td>
          <td class="paramname"><em>mosq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00028">28</a> of file <a class="el" href="a00137_source.html">thread_mosq.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifdef WITH_THREADING</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span>(!mosq || mosq-&gt;<a class="code" href="a00234.html#adb6cd438125dd83e94087e357d377896">threaded</a> != <a class="code" href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a6348ac0ce7b14775cc430e7b2b9bb101">mosq_ts_none</a>) <span class="keywordflow">return</span> <a class="code" href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9fc59ed2d318deb411d268ef7087518a">MOSQ_ERR_INVAL</a>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    mosq-&gt;<a class="code" href="a00234.html#adb6cd438125dd83e94087e357d377896">threaded</a> = <a class="code" href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a2f9f8d5316487ee14996169f1bdabbc2">mosq_ts_self</a>;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="a00023.html#af2adeafb0bd80feef910ae292046b775">pthread_create</a>(&amp;mosq-&gt;thread_id, NULL, <a class="code" href="a00137.html#a21dd0c78825078ffb90566d978b01b94">mosquitto__thread_main</a>, mosq)){</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9933a6888ec02c72e08c6eda7b1ed5b2">MOSQ_ERR_SUCCESS</a>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5ab2eee25562477f6a8d66790766ce7ebe">MOSQ_ERR_ERRNO</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    }</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a8836ec5f45c9c81bef6ad5cb1d945d4e">MOSQ_ERR_NOT_SUPPORTED</a>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div><div class="ttc" id="a00077_html_a8edcb6a39bbaf5d5895bf204b0f57da5a9fc59ed2d318deb411d268ef7087518a"><div class="ttname"><a href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9fc59ed2d318deb411d268ef7087518a">MOSQ_ERR_INVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="a00077_source.html#l00072">mosquitto.h:72</a></div></div>
<div class="ttc" id="a00077_html_a8edcb6a39bbaf5d5895bf204b0f57da5ab2eee25562477f6a8d66790766ce7ebe"><div class="ttname"><a href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5ab2eee25562477f6a8d66790766ce7ebe">MOSQ_ERR_ERRNO</a></div><div class="ttdef"><b>Definition:</b> <a href="a00077_source.html#l00083">mosquitto.h:83</a></div></div>
<div class="ttc" id="a00234_html_adb6cd438125dd83e94087e357d377896"><div class="ttname"><a href="a00234.html#adb6cd438125dd83e94087e357d377896">mosquitto::threaded</a></div><div class="ttdeci">char threaded</div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00270">mosquitto_internal.h:270</a></div></div>
<div class="ttc" id="a00080_html_ad2177ea1f6d6638b6143b394d4414183a6348ac0ce7b14775cc430e7b2b9bb101"><div class="ttname"><a href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a6348ac0ce7b14775cc430e7b2b9bb101">mosq_ts_none</a></div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00122">mosquitto_internal.h:122</a></div></div>
<div class="ttc" id="a00077_html_a8edcb6a39bbaf5d5895bf204b0f57da5a8836ec5f45c9c81bef6ad5cb1d945d4e"><div class="ttname"><a href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a8836ec5f45c9c81bef6ad5cb1d945d4e">MOSQ_ERR_NOT_SUPPORTED</a></div><div class="ttdef"><b>Definition:</b> <a href="a00077_source.html#l00079">mosquitto.h:79</a></div></div>
<div class="ttc" id="a00077_html_a8edcb6a39bbaf5d5895bf204b0f57da5a9933a6888ec02c72e08c6eda7b1ed5b2"><div class="ttname"><a href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9933a6888ec02c72e08c6eda7b1ed5b2">MOSQ_ERR_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="a00077_source.html#l00069">mosquitto.h:69</a></div></div>
<div class="ttc" id="a00023_html_af2adeafb0bd80feef910ae292046b775"><div class="ttname"><a href="a00023.html#af2adeafb0bd80feef910ae292046b775">pthread_create</a></div><div class="ttdeci">#define pthread_create(A, B, C, D)</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00004">dummypthread.h:4</a></div></div>
<div class="ttc" id="a00137_html_a21dd0c78825078ffb90566d978b01b94"><div class="ttname"><a href="a00137.html#a21dd0c78825078ffb90566d978b01b94">mosquitto__thread_main</a></div><div class="ttdeci">void * mosquitto__thread_main(void *obj)</div></div>
<div class="ttc" id="a00080_html_ad2177ea1f6d6638b6143b394d4414183a2f9f8d5316487ee14996169f1bdabbc2"><div class="ttname"><a href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a2f9f8d5316487ee14996169f1bdabbc2">mosq_ts_self</a></div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00123">mosquitto_internal.h:123</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00137_a0857dfc7323eb57e5c850815b13f922d_cgraph.png" border="0" usemap="#a00137_a0857dfc7323eb57e5c850815b13f922d_cgraph" alt=""/></div>
<map name="a00137_a0857dfc7323eb57e5c850815b13f922d_cgraph" id="a00137_a0857dfc7323eb57e5c850815b13f922d_cgraph">
<area shape="rect" id="node2" href="a00137.html#a21dd0c78825078ffb90566d978b01b94" title="mosquitto__thread_main" alt="" coords="196,5,360,32"/>
</map>
</div>

</div>
</div>
<a id="affc06c007256f75b11172f632bd6cefb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc06c007256f75b11172f632bd6cefb">&#9670;&nbsp;</a></span>mosquitto_loop_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mosquitto_loop_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00234.html">mosquitto</a> *&#160;</td>
          <td class="paramname"><em>mosq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00044">44</a> of file <a class="el" href="a00137_source.html">thread_mosq.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#ifdef WITH_THREADING</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#  ifndef WITH_BROKER</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">char</span> sockpair_data = 0;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#  endif</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span>(!mosq || mosq-&gt;<a class="code" href="a00234.html#adb6cd438125dd83e94087e357d377896">threaded</a> != <a class="code" href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a2f9f8d5316487ee14996169f1bdabbc2">mosq_ts_self</a>) <span class="keywordflow">return</span> <a class="code" href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9fc59ed2d318deb411d268ef7087518a">MOSQ_ERR_INVAL</a>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">/* Write a single byte to sockpairW (connected to sockpairR) to break out</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">     * of select() if in threaded mode. */</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span>(mosq-&gt;<a class="code" href="a00234.html#a154fafc2f8e8391fd69b4a4df907b124">sockpairW</a> != <a class="code" href="a00089.html#a26769957ec1a2beaf223f33b66ee64ab">INVALID_SOCKET</a>){</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#ifndef WIN32</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">if</span>(write(mosq-&gt;<a class="code" href="a00234.html#a154fafc2f8e8391fd69b4a4df907b124">sockpairW</a>, &amp;sockpair_data, 1)){</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        send(mosq-&gt;<a class="code" href="a00234.html#a154fafc2f8e8391fd69b4a4df907b124">sockpairW</a>, &amp;sockpair_data, 1, 0);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    </div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span>(force){</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="a00023.html#af0db80f7a5c48e2521d6a0e36a8ac37d">pthread_cancel</a>(mosq-&gt;thread_id);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="a00023.html#a47d3d588c814786d2f8a5e7151b09f97">pthread_join</a>(mosq-&gt;thread_id, NULL);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    mosq-&gt;thread_id = pthread_self();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    mosq-&gt;<a class="code" href="a00234.html#adb6cd438125dd83e94087e357d377896">threaded</a> = <a class="code" href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a6348ac0ce7b14775cc430e7b2b9bb101">mosq_ts_none</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9933a6888ec02c72e08c6eda7b1ed5b2">MOSQ_ERR_SUCCESS</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a8836ec5f45c9c81bef6ad5cb1d945d4e">MOSQ_ERR_NOT_SUPPORTED</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div><div class="ttc" id="a00077_html_a8edcb6a39bbaf5d5895bf204b0f57da5a9fc59ed2d318deb411d268ef7087518a"><div class="ttname"><a href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9fc59ed2d318deb411d268ef7087518a">MOSQ_ERR_INVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="a00077_source.html#l00072">mosquitto.h:72</a></div></div>
<div class="ttc" id="a00234_html_a154fafc2f8e8391fd69b4a4df907b124"><div class="ttname"><a href="a00234.html#a154fafc2f8e8391fd69b4a4df907b124">mosquitto::sockpairW</a></div><div class="ttdeci">mosq_sock_t sockpairW</div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00159">mosquitto_internal.h:159</a></div></div>
<div class="ttc" id="a00023_html_a47d3d588c814786d2f8a5e7151b09f97"><div class="ttname"><a href="a00023.html#a47d3d588c814786d2f8a5e7151b09f97">pthread_join</a></div><div class="ttdeci">#define pthread_join(A, B)</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00005">dummypthread.h:5</a></div></div>
<div class="ttc" id="a00234_html_adb6cd438125dd83e94087e357d377896"><div class="ttname"><a href="a00234.html#adb6cd438125dd83e94087e357d377896">mosquitto::threaded</a></div><div class="ttdeci">char threaded</div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00270">mosquitto_internal.h:270</a></div></div>
<div class="ttc" id="a00023_html_af0db80f7a5c48e2521d6a0e36a8ac37d"><div class="ttname"><a href="a00023.html#af0db80f7a5c48e2521d6a0e36a8ac37d">pthread_cancel</a></div><div class="ttdeci">#define pthread_cancel(A)</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00006">dummypthread.h:6</a></div></div>
<div class="ttc" id="a00080_html_ad2177ea1f6d6638b6143b394d4414183a6348ac0ce7b14775cc430e7b2b9bb101"><div class="ttname"><a href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a6348ac0ce7b14775cc430e7b2b9bb101">mosq_ts_none</a></div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00122">mosquitto_internal.h:122</a></div></div>
<div class="ttc" id="a00077_html_a8edcb6a39bbaf5d5895bf204b0f57da5a8836ec5f45c9c81bef6ad5cb1d945d4e"><div class="ttname"><a href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a8836ec5f45c9c81bef6ad5cb1d945d4e">MOSQ_ERR_NOT_SUPPORTED</a></div><div class="ttdef"><b>Definition:</b> <a href="a00077_source.html#l00079">mosquitto.h:79</a></div></div>
<div class="ttc" id="a00089_html_a26769957ec1a2beaf223f33b66ee64ab"><div class="ttname"><a href="a00089.html#a26769957ec1a2beaf223f33b66ee64ab">INVALID_SOCKET</a></div><div class="ttdeci">#define INVALID_SOCKET</div><div class="ttdef"><b>Definition:</b> <a href="a00089_source.html#l00045">net_mosq.h:45</a></div></div>
<div class="ttc" id="a00077_html_a8edcb6a39bbaf5d5895bf204b0f57da5a9933a6888ec02c72e08c6eda7b1ed5b2"><div class="ttname"><a href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9933a6888ec02c72e08c6eda7b1ed5b2">MOSQ_ERR_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="a00077_source.html#l00069">mosquitto.h:69</a></div></div>
<div class="ttc" id="a00080_html_ad2177ea1f6d6638b6143b394d4414183a2f9f8d5316487ee14996169f1bdabbc2"><div class="ttname"><a href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a2f9f8d5316487ee14996169f1bdabbc2">mosq_ts_self</a></div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00123">mosquitto_internal.h:123</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00137_affc06c007256f75b11172f632bd6cefb_cgraph.png" border="0" usemap="#a00137_affc06c007256f75b11172f632bd6cefb_cgraph" alt=""/></div>
<map name="a00137_affc06c007256f75b11172f632bd6cefb_cgraph" id="a00137_affc06c007256f75b11172f632bd6cefb_cgraph">
<area shape="rect" id="node2" href="a00137.html#a21dd0c78825078ffb90566d978b01b94" title="mosquitto__thread_main" alt="" coords="196,1595,360,1621"/>
<area shape="rect" id="node3" href="a00014.html#acaa677c47952bf5093aebbfbd4c6cdb6" title="mosquitto_reconnect" alt="" coords="408,1645,551,1672"/>
<area shape="rect" id="node4" href="a00059.html#ad02ec223258c492bf87078ca1920b785" title="mosquitto_loop_forever" alt="" coords="199,1696,357,1723"/>
<area shape="rect" id="node5" href="a00059.html#a8998f9777baf82e00cd9bca0d18087f7" title="mosquitto_loop" alt="" coords="424,1696,535,1723"/>
<area shape="rect" id="node6" href="a00140.html#a9fb48d8f8ce208443e2e7bae489770fe" title="mosquitto_time" alt="" coords="1727,1569,1837,1596"/>
<area shape="rect" id="node7" href="a00059.html#aeed4f1475dd2f6372c067a130276d427" title="mosquitto_loop_read" alt="" coords="600,1620,743,1647"/>
<area shape="rect" id="node41" href="a00059.html#a94cb5d89bbe9033ce54b57696a0b39e4" title="mosquitto_loop_write" alt="" coords="599,1797,744,1824"/>
<area shape="rect" id="node48" href="a00059.html#a0b92570daf16746a92b837dc32572a46" title="mosquitto_loop_misc" alt="" coords="599,1671,744,1697"/>
<area shape="rect" id="node8" href="a00131.html#a869c35b5c43d39bfab56d904fc74732f" title="socks5__read" alt="" coords="792,1620,895,1647"/>
<area shape="rect" id="node9" href="a00095.html#af2bf2cf3aec40fad4c8019a3a86b8cf0" title="packet__read" alt="" coords="943,1569,1043,1596"/>
<area shape="rect" id="node10" href="a00086.html#ab45823804eaf69afeba8ccb0ddfec22f" title="net__read" alt="" coords="1111,961,1190,988"/>
<area shape="rect" id="node11" href="a00062.html#ad3ba70ee35b6eda5aa6a0bfbcc50aee4" title="mosquitto__malloc" alt="" coords="1913,125,2044,152"/>
<area shape="rect" id="node12" href="a00101.html#a106bde19782a4eb7d7186a1cebac020f" title="handle__packet" alt="" coords="1094,1012,1207,1039"/>
<area shape="rect" id="node40" href="a00095.html#ab624f1fcb84024549fc4a2b6649d22ab" title="packet__cleanup" alt="" coords="1091,1772,1211,1799"/>
<area shape="rect" id="node13" href="a00029.html#af40172a0122ab747250a75e36d828e23" title="handle__pingreq" alt="" coords="1296,1367,1412,1393"/>
<area shape="rect" id="node14" href="a00053.html#a1f0fe423149a975f98789974bff83d0a" title="log__printf" alt="" coords="1741,1113,1823,1140"/>
<area shape="rect" id="node19" href="a00029.html#afa1e21128118d4e71ab0f417e4cc089c" title="handle__pingresp" alt="" coords="1293,1063,1415,1089"/>
<area shape="rect" id="node20" href="a00032.html#a81c46d9c43c20b65e36bbf8cc229b90b" title="handle__pubackcomp" alt="" coords="1280,809,1428,836"/>
<area shape="rect" id="node25" href="a00035.html#a64d70a66b210080b8b700499c3ca4b42" title="handle__publish" alt="" coords="1297,455,1411,481"/>
<area shape="rect" id="node31" href="a00038.html#ab95fcad4ca0c952d5baec01ccdfdfb60" title="handle__pubrec" alt="" coords="1297,1265,1411,1292"/>
<area shape="rect" id="node34" href="a00041.html#a63fd271db651b702e2c2e58438736cef" title="handle__pubrel" alt="" coords="1299,708,1409,735"/>
<area shape="rect" id="node36" href="a00026.html#ac3de0f574b9ac2ed69bbeebe8e2f4bd8" title="handle__connack" alt="" coords="1513,49,1635,76"/>
<area shape="rect" id="node38" href="a00044.html#a43150f365eabd0af9f286c680c7337d5" title="handle__suback" alt="" coords="1516,100,1632,127"/>
<area shape="rect" id="node39" href="a00047.html#a938f66952ba9d0cd17e80b13999670da" title="handle__unsuback" alt="" coords="1509,201,1639,228"/>
<area shape="rect" id="node16" href="a00113.html#a0395294447a675d33c9844d792c070c9" title="send__pingresp" alt="" coords="1517,1417,1631,1444"/>
<area shape="rect" id="node15" href="a00062.html#a18886ef1d4cda1dd619d7abcf178ee5e" title="mosquitto__free" alt="" coords="1921,1493,2036,1520"/>
<area shape="rect" id="node17" href="a00113.html#a064fbb6900af974241149bc88628e1ee" title="send__simple_command" alt="" coords="1699,1468,1865,1495"/>
<area shape="rect" id="node18" href="a00062.html#aabd59124b21e21d78a06eed87e26df85" title="mosquitto__calloc" alt="" coords="1915,1443,2042,1469"/>
<area shape="rect" id="node21" href="a00095.html#aee74d0659b9a16b9a43f8a69a313239a" title="packet__read_uint16" alt="" coords="1711,252,1853,279"/>
<area shape="rect" id="node22" href="a00068.html#a611668466268a76097432f63a7a41d4a" title="message__delete" alt="" coords="1512,759,1636,785"/>
<area shape="rect" id="node23" href="a00068.html#a1b269e13780eed76bd81bb00242dbff6" title="message__remove" alt="" coords="1716,733,1848,760"/>
<area shape="rect" id="node24" href="a00068.html#abb319d8551e2ac171eebb29103d8158c" title="message__cleanup" alt="" coords="1715,669,1849,696"/>
<area shape="rect" id="node26" href="a00095.html#a6fb99ae7ebe94b9169b8954bb3066523" title="packet__read_string" alt="" coords="1505,151,1643,177"/>
<area shape="rect" id="node27" href="a00095.html#a5b2af12761dd272cdedf7dd63450d0c3" title="packet__read_bytes" alt="" coords="1505,353,1643,380"/>
<area shape="rect" id="node28" href="a00113.html#a39d488b3f600909d12e42c0a513b1679" title="send__puback" alt="" coords="1521,860,1627,887"/>
<area shape="rect" id="node29" href="a00113.html#a3da076da810936c9c2bdcf06b913d2c7" title="send__pubrec" alt="" coords="1523,911,1625,937"/>
<area shape="rect" id="node30" href="a00068.html#abcdba12a920f694c209a87dcbb4f61e8" title="message__queue" alt="" coords="1512,404,1636,431"/>
<area shape="rect" id="node32" href="a00068.html#ad368cbf2b18de7c2449c24c02b8b258d" title="message__out_update" alt="" coords="1497,1569,1651,1596"/>
<area shape="rect" id="node33" href="a00113.html#a46393c4a1accc0a861f83daa563cc7ef" title="send__pubrel" alt="" coords="1525,1265,1623,1292"/>
<area shape="rect" id="node35" href="a00113.html#a8c69819b4a9625a9ad6d2470df81ec7c" title="send__pubcomp" alt="" coords="1515,1063,1633,1089"/>
<area shape="rect" id="node37" href="a00095.html#a485ca80ad4031bf337d4077b892910d2" title="packet__read_byte" alt="" coords="1716,49,1848,76"/>
<area shape="rect" id="node42" href="a00095.html#a019a1f80c92f90966f71543ddb365f53" title="packet__write" alt="" coords="792,1823,895,1849"/>
<area shape="rect" id="node43" href="a00086.html#a5eb8f523a2a3e159f81844232b917d56" title="net__write" alt="" coords="951,1924,1034,1951"/>
<area shape="rect" id="node44" href="a00086.html#a2d9f412eda103dfee4799937257be7ca" title="net__socket_close" alt="" coords="1509,1823,1639,1849"/>
<area shape="rect" id="node45" href="a00089.html#a9803d73c66c4d3a082e4ad74ed4af39f" title="net__try_connect_step1" alt="" coords="1701,1772,1863,1799"/>
<area shape="rect" id="node46" href="a00089.html#a2c977377f8cf7a08790a2cf7e24f7a59" title="net__try_connect_step2" alt="" coords="1701,1823,1863,1849"/>
<area shape="rect" id="node47" href="a00086.html#a1a56cf2e991d5f23d21fdc7aa95b8838" title="net__socket_nonblock" alt="" coords="1706,1671,1858,1697"/>
<area shape="rect" id="node49" href="a00155.html#aba6047786ba12b1de1242baaa71de135" title="mosquitto__check_keepalive" alt="" coords="1259,1671,1449,1697"/>
<area shape="rect" id="node50" href="a00113.html#aff2cc088c0567f8f82270a8232547b7d" title="send__pingreq" alt="" coords="1521,1519,1627,1545"/>
</map>
</div>

</div>
</div>
<a id="ae6eac2c5d74e6628433925107b522845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6eac2c5d74e6628433925107b522845">&#9670;&nbsp;</a></span>mosquitto_threaded_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mosquitto_threaded_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00234.html">mosquitto</a> *&#160;</td>
          <td class="paramname"><em>mosq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>threaded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00137_source.html#l00122">122</a> of file <a class="el" href="a00137_source.html">thread_mosq.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span>(!mosq) <span class="keywordflow">return</span> <a class="code" href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9fc59ed2d318deb411d268ef7087518a">MOSQ_ERR_INVAL</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">if</span>(threaded){</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        mosq-&gt;<a class="code" href="a00234.html#adb6cd438125dd83e94087e357d377896">threaded</a> = <a class="code" href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a9ec6faf413b0f8440d2be2e65738b1bf">mosq_ts_external</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        mosq-&gt;<a class="code" href="a00234.html#adb6cd438125dd83e94087e357d377896">threaded</a> = <a class="code" href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a6348ac0ce7b14775cc430e7b2b9bb101">mosq_ts_none</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9933a6888ec02c72e08c6eda7b1ed5b2">MOSQ_ERR_SUCCESS</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="a00077_html_a8edcb6a39bbaf5d5895bf204b0f57da5a9fc59ed2d318deb411d268ef7087518a"><div class="ttname"><a href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9fc59ed2d318deb411d268ef7087518a">MOSQ_ERR_INVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="a00077_source.html#l00072">mosquitto.h:72</a></div></div>
<div class="ttc" id="a00080_html_ad2177ea1f6d6638b6143b394d4414183a9ec6faf413b0f8440d2be2e65738b1bf"><div class="ttname"><a href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a9ec6faf413b0f8440d2be2e65738b1bf">mosq_ts_external</a></div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00124">mosquitto_internal.h:124</a></div></div>
<div class="ttc" id="a00234_html_adb6cd438125dd83e94087e357d377896"><div class="ttname"><a href="a00234.html#adb6cd438125dd83e94087e357d377896">mosquitto::threaded</a></div><div class="ttdeci">char threaded</div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00270">mosquitto_internal.h:270</a></div></div>
<div class="ttc" id="a00080_html_ad2177ea1f6d6638b6143b394d4414183a6348ac0ce7b14775cc430e7b2b9bb101"><div class="ttname"><a href="a00080.html#ad2177ea1f6d6638b6143b394d4414183a6348ac0ce7b14775cc430e7b2b9bb101">mosq_ts_none</a></div><div class="ttdef"><b>Definition:</b> <a href="a00080_source.html#l00122">mosquitto_internal.h:122</a></div></div>
<div class="ttc" id="a00077_html_a8edcb6a39bbaf5d5895bf204b0f57da5a9933a6888ec02c72e08c6eda7b1ed5b2"><div class="ttname"><a href="a00077.html#a8edcb6a39bbaf5d5895bf204b0f57da5a9933a6888ec02c72e08c6eda7b1ed5b2">MOSQ_ERR_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="a00077_source.html#l00069">mosquitto.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_d38330fef6675147c2f77bb8367b9947.html">mqtt</a></li><li class="navelem"><a class="el" href="a00137.html">thread_mosq.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
